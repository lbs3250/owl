import{d as V,g as A,s as C,B as ne,c as m,i as J,r as f,_ as N,j as e,e as M,f as w,h as L,w as q,k as ie,l as G,I as D,J as re,q as E,K as ce,D as le,u as de,y as ue,x as me,G as pe,Q as he,R as xe,P as F,N as ge}from"./index-CCJJO1DT.js";import{F as fe,L as be,c as ke,a as R}from"./index.esm-BA2FNdpf.js";import{g as Ce,D as je,a as ve}from"./DialogContent-DCg98jYo.js";import{u as ye,a as Be,G as $,T as S}from"./TextField-Cr_XXLt4.js";function Ie(s){return V("PrivateSwitchBase",s)}A("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const we=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],ze=s=>{const{classes:o,checked:t,disabled:n,edge:i}=s,r={root:["root",t&&"checked",n&&"disabled",i&&`edge${w(i)}`],input:["input"]};return L(r,Ie,o)},Re=C(ne)(({ownerState:s})=>m({padding:9,borderRadius:"50%"},s.edge==="start"&&{marginLeft:s.size==="small"?-3:-12},s.edge==="end"&&{marginRight:s.size==="small"?-3:-12})),Se=C("input",{shouldForwardProp:J})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Pe=f.forwardRef(function(o,t){const{autoFocus:n,checked:i,checkedIcon:r,className:p,defaultChecked:u,disabled:b,disableFocusRipple:d=!1,edge:v=!1,icon:c,id:a,inputProps:l,inputRef:h,name:x,onBlur:j,onChange:y,onFocus:B,readOnly:Q,required:X=!1,tabIndex:Y,type:z,value:W}=o,Z=N(o,we),[H,ee]=ye({controlled:i,default:!!u,name:"SwitchBase",state:"checked"}),k=Be(),se=g=>{B&&B(g),k&&k.onFocus&&k.onFocus(g)},oe=g=>{j&&j(g),k&&k.onBlur&&k.onBlur(g)},te=g=>{if(g.nativeEvent.defaultPrevented)return;const O=g.target.checked;ee(O),y&&y(g,O)};let I=b;k&&typeof I>"u"&&(I=k.disabled);const ae=z==="checkbox"||z==="radio",P=m({},o,{checked:H,disabled:I,disableFocusRipple:d,edge:v}),U=ze(P);return e.jsxs(Re,m({component:"span",className:M(U.root,p),centerRipple:!0,focusRipple:!d,disabled:I,tabIndex:null,role:void 0,onFocus:se,onBlur:oe,ownerState:P,ref:t},Z,{children:[e.jsx(Se,m({autoFocus:n,checked:i,defaultChecked:u,className:U.input,disabled:I,id:ae?a:void 0,name:x,onChange:te,readOnly:Q,ref:h,required:X,ownerState:P,tabIndex:Y,type:z},z==="checkbox"&&W===void 0?{}:{value:W},l)),H?r:c]}))}),Fe=q(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),$e=q(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Te=q(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function De(s){return V("MuiCheckbox",s)}const T=A("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Ne=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Me=s=>{const{classes:o,indeterminate:t,color:n,size:i}=s,r={root:["root",t&&"indeterminate",`color${w(n)}`,`size${w(i)}`]},p=L(r,De,o);return m({},o,p)},Le=C(Pe,{shouldForwardProp:s=>J(s)||s==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:t}=s;return[o.root,t.indeterminate&&o.indeterminate,o[`size${w(t.size)}`],t.color!=="default"&&o[`color${w(t.color)}`]]}})(({theme:s,ownerState:o})=>m({color:(s.vars||s).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:s.vars?`rgba(${o.color==="default"?s.vars.palette.action.activeChannel:s.vars.palette[o.color].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:ie(o.color==="default"?s.palette.action.active:s.palette[o.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.color!=="default"&&{[`&.${T.checked}, &.${T.indeterminate}`]:{color:(s.vars||s).palette[o.color].main},[`&.${T.disabled}`]:{color:(s.vars||s).palette.action.disabled}})),qe=e.jsx($e,{}),Ee=e.jsx(Fe,{}),_e=e.jsx(Te,{}),We=f.forwardRef(function(o,t){var n,i;const r=G({props:o,name:"MuiCheckbox"}),{checkedIcon:p=qe,color:u="primary",icon:b=Ee,indeterminate:d=!1,indeterminateIcon:v=_e,inputProps:c,size:a="medium",className:l}=r,h=N(r,Ne),x=d?v:b,j=d?v:p,y=m({},r,{color:u,indeterminate:d,size:a}),B=Me(y);return e.jsx(Le,m({type:"checkbox",inputProps:m({"data-indeterminate":d},c),icon:f.cloneElement(x,{fontSize:(n=x.props.fontSize)!=null?n:a}),checkedIcon:f.cloneElement(j,{fontSize:(i=j.props.fontSize)!=null?i:a}),ownerState:y,ref:t,className:M(B.root,l)},h,{classes:B}))}),He=["className","id"],Ue=s=>{const{classes:o}=s;return L({root:["root"]},Ce,o)},Oe=C(D,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(s,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),Ve=f.forwardRef(function(o,t){const n=G({props:o,name:"MuiDialogTitle"}),{className:i,id:r}=n,p=N(n,He),u=n,b=Ue(u),{titleId:d=r}=f.useContext(re);return e.jsx(Oe,m({component:"h2",className:M(b.root,i),ownerState:u,ref:t,variant:"h6",id:r??d},p))});function Ae({modalhandler:s,showModal:o}){return e.jsx(E,{children:e.jsxs(ce,{open:o,onClose:(t,n)=>s(t,n),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(Ve,{id:"alert-dialog-title",children:"회원가입 완료"}),e.jsxs(je,{children:[e.jsx(D,{color:"text.secondary",variant:"body1",children:"회원가입이 정상적으로 완료되었습니다."}),e.jsx(D,{sx:{color:"#f65d10",mt:2,fontSize:"0.7rem"},variant:"body2",children:"관리자의 최종 승인 후 로그인이 가능합니다. 관리자에게 문의하세요."})]}),e.jsx(ve,{children:e.jsx(le,{onClick:s,color:"primary",autoFocus:!0,children:"로그인 페이지로 이동"})})]})})}const K=C(E)(()=>({display:"flex",alignItems:"center"})),_=C(K)(()=>({justifyContent:"center"})),Je=C(_)(()=>({height:"100%",padding:"32px",background:"rgba(0, 0, 0, 0.01)"})),Ge=C(_)(()=>({background:"#1A2038",backgroundImage:"url('/assets/images/home-bg.png')",minHeight:"100vh !important","& .card":{maxWidth:800,minHeight:400,margin:"1rem",display:"flex",borderRadius:12,alignItems:"center"}})),Ke={email:"",password:"",username:"",phone:"",remember:!0},Qe=ke().shape({username:R().required("ID is required!"),password:R().min(4,"Password must be 4 character length").required("Password is required!"),email:R().email("Invalid Email address").required("Email is required!"),phone:R().required("Phone number is required!")});function ss(){const s=de(),{register:o}=ue(),t=me(),[n,i]=f.useState(!1),[r,p]=f.useState(),[u,b]=f.useState(!1),d=(c,a)=>{a!=="backdropClick"&&a!=="escapeKeyDown"&&(b(!u),t("/session/signin"))},v=async c=>{i(!0);try{await o(c.username,c.password,c.email,c.phone),i(!1),b(!0)}catch(a){i(!1),p(a.response.data.message)}};return e.jsx(Ge,{children:e.jsx(pe,{className:"card",children:e.jsxs($,{container:!0,children:[e.jsx($,{item:!0,sm:6,xs:12,children:e.jsx(Je,{children:e.jsxs(he,{children:[e.jsx(_,{p:4,height:"100%",sx:{minWidth:200},children:e.jsx("img",{src:"/assets/images/logo_simple2.png",alt:"",width:"170px"})}),e.jsx(xe,{sx:{mt:2},children:"* 회원 가입 후 OWL 관리자의 최종 승인 후 로그인이 가능합니다. 관리자에게 문의하세요."})]})})}),e.jsx($,{item:!0,sm:6,xs:12,children:e.jsxs(E,{p:4,height:"100%",children:[e.jsx(fe,{onSubmit:v,initialValues:Ke,validationSchema:Qe,children:({values:c,errors:a,touched:l,handleChange:h,handleBlur:x,handleSubmit:j})=>e.jsxs("form",{onSubmit:j,children:[e.jsx(S,{fullWidth:!0,size:"small",type:"text",name:"username",label:"아이디",variant:"outlined",onBlur:x,value:c.username,onChange:h,helperText:l.username&&a.username,error:!!(a.username&&l.username),sx:{mb:3}}),e.jsx(S,{fullWidth:!0,size:"small",name:"password",type:"password",label:"비밀번호",variant:"outlined",onBlur:x,value:c.password,onChange:h,helperText:l.password&&a.password,error:!!(a.password&&l.password),sx:{mb:2}}),e.jsx(S,{fullWidth:!0,size:"small",type:"email",name:"email",label:"Email",variant:"outlined",onBlur:x,value:c.email,onChange:h,helperText:l.email&&a.email,error:!!(a.email&&l.email),sx:{mb:3}}),e.jsx(S,{fullWidth:!0,size:"small",name:"phone",type:"text",label:"전화번호",variant:"outlined",onBlur:x,value:c.phone,onChange:h,helperText:l.phone&&a.phone,error:!!(a.phone&&l.phone),sx:{mb:3}}),e.jsx(F,{color:"red",children:r}),e.jsxs(K,{gap:1,alignItems:"center",children:[e.jsx(We,{size:"small",name:"remember",onChange:h,checked:c.remember,sx:{padding:0}}),e.jsx(F,{fontSize:13,children:"I have read and agree to the terms of service."})]}),e.jsx(be,{type:"submit",color:"primary",loading:n,variant:"contained",sx:{mb:2,mt:3},children:"Register"}),e.jsxs(F,{children:["Already have an account?",e.jsx(ge,{to:"/session/signin",style:{color:s.palette.primary.main,marginLeft:5},children:"Login"})]})]})}),e.jsx(Ae,{modalhandler:d,showModal:u})]})})]})})})}export{ss as default};
